---

import Layout from '../../layouts/Layout.astro';
import Post from '../../components/Post.vue'
import PostAuthor from '../../components/PostAuthor.jsx'

const {pid} = Astro.params;
const response = await fetch(`${import.meta.env.API_BASE_URL}/posts/${pid}`);
const post = await response.json();
const userAPI = `${import.meta.env.API_BASE_URL}/users/${post.userId}`
---

<Layout title="Posts">
    <Post post={post}>
        <PostAuthor client:load userAPI={userAPI} />
    </Post>
</Layout>